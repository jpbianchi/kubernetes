apiVersion: v1
kind: Secret
metadata:
  name: postgres-secret
  # TODO: Challenge + Extension
  # convert the configmap into secrets and
  # update the deployement to consume those secrets
type: Opaque 
data:
  POSTGRES_PASSWORD: cHNsdGVzdDI=  # now it's psltest2 

# echo -n 'psltest'| base64 
# cHNsdGVzdA==
# echo -n 'psltest2'| base64
# cHNsdGVzdDI=

# kubectl create -f challenges/postgres-secret.yml
# secret/postgres-secret created

# I had to delete the persistentVolume, otherwise psql was always asking for the 1st pw
# first delete the persistentvolumeclaim
# kubectl delete pvc postgres-pv-claim
# kubectl delete pv postgres-pv-volume
# check
# kubectl get pv 
# Error from server (NotFound): persistentvolumes "postgres-pv-volume" not found
# I restart everything, but the old DB is still there with its old pw and the table I created
# in fact, minikube ssh -p minikube, then sudo ls /mnt/data shows the files
# created initially, so they are in minikube.  